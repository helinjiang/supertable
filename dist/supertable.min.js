/*! supertable - v1.0.0
* Copyright (c) helinjiang;*/

!function(a,b,c){function d(a,c,d,e){this.htmlContent=a,this.startRow=c||0,this.startCol=d||0,this.keyRow=e;var f=b(this.htmlContent),g=f.filter("table");g.length||(g=f.find("table")),this.tableElem=g.eq(0)}function e(a){return b.trim(a).replace(/\n\r/g,"").replace(/\s+/g," ")}d.prototype.getDataArray=function(){var a=this.tableElem.find("tr"),c=this.startRow,d=this.startCol,f=[];return a.each(function(a){if(!(c>a)){var g=b(this),h=g.children(),i=[];h.each(function(a){d>a||i.push(e(b(this).text()))}),f.push(i)}}),console.log("表格一共有 %s 行，从行序号 %s 和列序号 %s 开始算，实际有 %s 条有效数据！",a.length,c,d,f.length),f},d.prototype.getDataMap=function(){var a=this.tableElem.find("tr"),c=this.startRow,d=this.startCol,f=this.keyRow,g=[],h=[];if("undefined"==typeof f){console.error("keyRow is undefined!");for(var i=a.eq(0).children().length,j=0;i>j;j++)h.push("a"+j)}else{var k=a.eq(f).children();k.each(function(a){if(!(d>a)){var c=e(b(this).text());""===c&&(c="a"+a),h.push(c)}})}return a.each(function(a){if(!(c>a)){var f=b(this),i=f.children(),j={};i.each(function(a){d>a||(j[h[a]+""]=e(b(this).text()))}),g.push(j)}}),console.log("表格一共有 %s 行，从行序号 %s 和列序号 %s 开始算，实际有 %s 条有效数据！",a.length,c,d,g.length),g},a.SuperTable=d}(window,window.jQuery);